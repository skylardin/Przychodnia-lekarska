\documentclass[a4paper]{article} \usepackage{polski} \usepackage[cp1250]{inputenc} \usepackage{url}

\title{\bf{Elektroniczna przychodnia lekarska (PHP, MYSQL)}} \author{{\em Pawe³ Wilczek }{\em £ukasz Szkaradek } {\em £ukasz Mamak}} \date{}
\usepackage{hyperref}

\begin{document}

\begin{titlepage} \maketitle \thispagestyle{empty} \bigskip \begin{center} Zespo³owe przedsiêwziêcie in¿ynierskie

Informatyka

Rok. akad. 2017/2018, sem. I

Prowadz¹cy: dr hab. Marcin Mazur \end{center} \end{titlepage}

\tableofcontents \thispagestyle{empty}


\newpage

\section{Opis projektu}


\subsection{Cz³onkowie zespo³u}

\begin{enumerate} \item £ukasz Szkaradek (kierownik projektu). \item Pawe³ Wilczek. \item £ukasz Mamak. \end{enumerate}

\subsection{Cel projektu (produkt)}


Celem projektu jest stworzenie strony internetowej z zastosowaniem php i mysql, która ma na celu obs³ugê wirtualnej przychodni lekarskiej oraz zwiêkszenie jej wydajnoœci.

\subsection{Potencjalny odbiorca produktu (klient)}


Klientem mo¿e byæ przychodnia lekarska chc¹ca usprawniæ wydajnoœæ niskim kosztem.

\subsection{Metodyka}


Projekt bêdzie realizowany przy u¿yciu (zaadaptowanej do istniej¹cych warunków) metodyki {\em Scrum}.

\section{Wymagania u¿ytkownika}


\subsection{User story 1}


Jako pacjent, chcia³bym mieæ mo¿liwoœæ zapisu do danego specjalisty za poœrednictwem strony internetowej przychodni, dziêki czemu nie musia³bym udaæ siê tam osobiœcie i móg³bym przez to lepiej zarz¹dzaæ czasem jaki mam do dyspozycji danego dnia.

\subsection{User story 2}

Jako pacjent chcia³bym mieæ wgl¹d do mojej karty pacjenta poprzez stronê przychodni tak abym móg³ ³atwo sprawdziæ aktualn¹ listê moich wizyt z lekarzem.

\subsection{User story 3}


Jako dyrektor placówki chcia³bym posiadaæ konto admina by zarz¹dzaæ elektroniczn¹ przychodni¹ tak, aby w pe³ni czuwaæ nad moimi pracownikami.

\subsection{User story 4}


Jako lekarz chce ¿eby oprogramowanie przychodni mia³o ³atwy i szybki dostêp do wszystkich moich aktualnych wizyt.


\subsection{User story 5}


Jako recepcjonista w przychodni chcia³bym mieæ dostêp do elektronicznej bazy przychodni co w przeciwieñstwie do tradycyjnej formy skróci³o by mój czas reakcji i zmniejszy³o iloœæ mojej pracy.

\subsection{User story 6}

Jako pacjent chcia³bym mieæ dostêp do aktualnoœci w przychodni takie jak opóŸnienia w przyjmowaniu przez lekarzy, tak aby w takim przypadku inaczej zagospodarowaæ czas.

\subsection{User story 7}


Jako dyrektor chcia³bym, aby platforma internetowa zwiêkszy³a wydajnoœæ naszej placówki poprzez ³atwoœæ w rejestracji i katalogowaniu danych.

\subsection{User story 8}


Jako lekarz chcia³bym mieæ dostêp do elektronicznej wersji karty pacjenta co umo¿liwia³o by mi poznanie historii choroby pacjenta i jej edycje w razie koniecznoœci.


\section{Harmonogram}

\subsection{Rejestr zadañ (Product Backlog)}


\begin{itemize} \item Data rozpoczêcia: 11.10.2017. \item Data zakoñczenia: 15.11.2017. \end{itemize}

\subsection{Sprint 1}


\begin{itemize} \item Data rozpoczêcia: 15.11.2017. \item Data zakoñczenia: 29.11.2017. \item Scrum Master: £ukasz Szkaradek. \item Product Owner: £ukasz Mamak. \item Development Team: £ukasz Mamak, Pawe³ Wilczek, £ukasz Szkaradek. \end{itemize}

\subsection{Sprint 2}


\begin{itemize} \item Data rozpoczêcia: 29.11.2017. \item Data zakoñczenia: 20.12.2017. \item Scrum Master: £ukasz Mamak. \item Product Owner: Pawe³ Wilczek. \item Development Team: Pawe³ Wilczek, £ukasz Szkaradek, £ukasz Mamak. \end{itemize}

\subsection{Sprint 3}


\begin{itemize} \item Data rozpoczêcia: 20.12.2017. \item Data zakoñczenia: 10.01.2018. \item Scrum Master: Pawe³ Wilczek. \item Product Owner: £ukasz Szkaradek. \item Development Team: £ukasz Szkaradek, £ukasz Mamak, Pawe³ Wilczek. \end{itemize}


\section{Product Backlog}


\subsection{Backlog Item 1} \paragraph{Tytu³ zadania.} Stworzenie  bazy danych. \paragraph{Opis zadania.} Stworzenie bazy danych, która s³u¿yæ bêdzie do testowania pocz¹tkowych zadañ. \paragraph{Priorytet.} Œredni. \paragraph{Definition of Done.} Stworzenie w MYSQL bazy danych i tablic: 
\newline

 \textbf{SPECJALIZACJE: }

\begin{itemize}
\item id specjalizacji (automatycznie przypisywany numer),
\item nazwa specjalizacji (nazwa specjalizacji), 
\end{itemize}


 \textbf{AKTUALNOŒCI: }

\begin{itemize}
\item id aktualnosci (automatycznie przypisywany numer),
\item data (data napisania aktualnoœci) , 
\item opis (treœæ aktualnoœci)
\end{itemize}

\textbf{PACJENCI: }
  
\begin{itemize}
\item id pacjenta (automatycznie przypisywany numer), 
\item imie (imiê pacjenta), 
\item nazwisko (nazwisko pacjenta), 
\item pesel (pesel pacjenta), 
\item karta pacjenta (treœæ karty pacjenta), 
\item nr telefonu
\item kod (automatycznie generowany kod, który wraz z peselem bêdzie umo¿liwia³ logowanie siê pacjenta)
\end {itemize}\newline

 \textbf{SPOTKANIA:}
 
\begin{itemize}
\item id spotkania (automatycznie przypisywany numer),
\item id specjalizacji (numer odnosz¹cy siê do konkretnego wiersza w tablicy specjalizacje),
\item id lekarza (numer odnosz¹cy siê do konkretnego wiersza w tablicy lekarze),
\item id osoby (numer odnosz¹cy siê do konkretnego wiersza w tablicy pacjenci),
\item data odbycia (data wpisywana przez recepcjonistê, która okreœla datê spotkania z lekarzem),
\item data zapisu (automatycznie przypisywana data podczas tworzenia wiersza),
\item stan (równa siê 0 lub 1, w zale¿noœci czy spotkanie zosta³o zaakceptowane przez recepcjonistê)
\end {itemize}\newline
\textbf{LEKARZE:}

\begin {itemize}
\item id lekarza (automatycznie przypisywany numer),
\item login (login u¿ywany przy logowaniu na stronie recepcji),
\item haslo (has³o u¿ywane przy logowaniu na stronie recepcji),
\item imie (imiê lekarza),
\item nazwisko (nazwisko lekarza),
\item id specjalizacji (numer odnosz¹cy siê do konkretnego wiersza w tablicy specjalizacje, okreœla jak¹ specjalizacjê posiada dany lekarz),
\item nr pokoju (numer pokoju w którym dany lekarz przyjmuje),
 
 \end {itemize}


\subsection{Backlog Item 2}\paragraph{Tytu³ zadania.} Strona tytu³owa oraz formularz logowania pacjenta. \paragraph{Opis zadania.} Stworzenie strony g³ównej wraz z interfejsem i logowaniem dla pacjenta. \paragraph{Priorytet.} Œredni. \paragraph{Definition of Done.} Napisanie w jêzyku PHP strony g³ównej w której bêd¹ zawarte:
\newline
\newline 1. Formularz logowania pacjenta (poprzez pesel i kod).
\newline
\newline 2. Odnoœniki do reszty podstron takich jak:
\begin{itemize}
\item formularz rejestracji pacjenta
\item strony recepcji.
\end {itemize}

\textit{\textbf{Strona zawieraæ bêdzie skrypt, który po wykryciu zmiennych wys³anych przez formularz logowania pacjenta wyœwietli:}}

\begin{itemize}
\item imiê pacjenta, 
\item nazwisko pacjenta, 
\item pesel pacjenta, 
\item listê umówionych spotkañ z lekarzami,
\item formularz przez, który tworzyæ bêdzie spotkania wraz z skryptem obs³uguj¹cym dan¹ operacjê (dodanie do tablicy "spotkania" danych: id specjalizacji, id osoby).

\end{itemize}

\subsection{Backlog Item 3}\paragraph{Tytu³ zadania.} Aktualnoœci. \paragraph{Opis zadania.} Dodanie do strony g³ównej listê aktualnoœci. \paragraph{Priorytet.} Niski. \paragraph{Definition of Done.}  Edycja strony g³ównej tak aby w przejrzysty sposób wyœwietla³a dane z tablicy "aktualnoœci":
- Data aktualnoœci (data),
- Treœæ aktualnoœci (opis).

\subsection{Backlog Item 4}\paragraph{Tytu³ zadania.} Formularz zapisu dla pacjentów. \paragraph{Opis zadania.} Stworzenie strony dziêki której bêdzie mo¿na zapisaæ siê do listy pacjentów. \paragraph{Priorytet.} Niski. \paragraph{Definition of Done.} Napisanie strony w jêzyku PHP zawieraj¹cej formularz z danymi do wprowadzenia (Imiê, Nazwisko, Pesel, Telefon kontaktowy). Po otrzymaniu danych zostan¹ one wprowadzone do tablicy "pacjenci". Ponadto strona po wype³nieniu formularza generowaæ bêdzie 5-cyfrowy kod, który równie¿ bêdzie wprowadzany do tablicy.



\subsection{Backlog Item 5}\paragraph{Tytu³ zadania.} Aktualizacja bazy danych. \paragraph{Opis zadania.} Dodanie do bazy danych potrzebnych tablic i ewentualna edycja starych tablic w razie potrzeby. \paragraph{Priorytet.} Wysoki. \paragraph{Definition of Done.} Dodanie do bazy danych, tablic:
\newline
\newline
 \textbf{RECEPCJA:}
 \begin{itemize}
\item id recepcjonisty  (automatycznie przypisywany numer),
\item imie (imiê recepcjonisty),
\item nazwisko (nazwisko recepcjonisty),
\item login (login u¿ywany przy logowaniu na stronie recepcji),
\item  haslo (has³o u¿ywane przy logowaniu na stronie recepcji)
\end {itemize}
\newline
\textbf{DYREKTOR:}
\begin {itemize}
\item id dyrektora  (automatycznie przypisywany numer),
\item imie (imiê dyrektora),
\item nazwisko (nazwisko dyrektora),
\item login (login u¿ywany przy logowaniu na stronie recepcji),
\item haslo (has³o u¿ywane przy logowaniu na stronie recepcji).
\end {itemize}
\newline
\textit{\textbf{Stworzenie 2 widoków, u³atwiaj¹cych obs³ugê strony:}}
\newline
 
\textbf{LEKARZE:}
\begin {itemize}
\item imie (imiê lekarza z tablicy "lekarze"),
\item nazwisko (nazwisko lekarza z tablicy "lekarze"),
\item specjalizacja (nazwa specjalizacji z tablicy "specjalizacje", odpowiednia dla konkretnego lekarza),
\item  nr pokoju (nr pokoju z tablicy "lekarze")
\end {itemize}\newline

\textbf{LISTA:}
\begin {itemize}
\item id spotkania (id spotkania z tablicy "spotkania"),
\item id osoby (id pacjenta z tablicy "pacjenci" odpowiednie dla konkretnego spotkania),
\item id lekarza (id lekarza z tablicy "lekarze" odpowiednie dla konkretnego spotkania),
\item pesel (pesel z tablicy "pacjenci"),
\item imie osoby (imiê osoby z tablicy "pacjenci"),
\item nazwisko osoby (nazwisko osoby z tablicy "pacjenci"),
\item specjalizacja (nazwa specjalizacji z tablicy "specjalizacje"),
\item imie lekarza (imiê lekarza z tablicy "lekarze"),
\item nazwisko lekarza (nazwisko lekarza z tablicy "lekarze"),
\item nr pokoju (numer pokoju z tablicy "lekarze"),
\item data odbycia (data odbycia z tablicy "spotkania"),
\item data zapisu (data zapisu z tablicy "spotkania"),
\item stan (stan z tablicy "spotkania")

\end {itemize}



\subsection{Backlog Item 6}\paragraph{Tytu³ zadania.} Strona logowania pracowników. \paragraph{Opis zadania.} Napisanie strony, która bêdzie dawaæ dostêp do logowania i wyœwietlania listy opcji dla: dyrektora, recepcjonisty i lekarza. \paragraph{Priorytet.} Œredni. \paragraph{Definition of Done.} Stworzenie strony na, której bêdzie formularz z danymi do wprowadzenia: login, has³o. Wraz z skryptem który po ich otrzymaniu przeszuka tablice: lekarze, dyrektor, recepcja w poszukiwaniu prawid³owoœci. Je¿eli znajdzie wykorzysta funkcjê "session" i wpiszê do niej dane takie jak imiê, nazwisko, id oraz tablica z informacj¹ z której tablicy dana osoba pochodzi. W przypadku wykrycia zmiennych w "session", wypisuje imiê, nazwisko oraz id danej osoby, oraz w zale¿noœci od zmiennej tablica listê odnoœników do strony "zarzadzaj" \\

 \textbf{DLA LEKARZE:}
 \begin {itemize}
\item odnoœnik wraz z informacj¹ w formie GET prosz¹c¹ o listê spotkañ.
\item odnoœnik wraz z informacj¹ w formie GET prosz¹c¹ o kartê pacjenta.
\end {itemize} \\

\textbf{DLA RECEPCJA:}
\begin {itemize}
\item odnoœnik wraz z informacj¹ w formie GET prosz¹c¹ o lista osób zapisanych. 
\item odnoœnik wraz z informacj¹ w formie GET prosz¹c¹ o lista lekarzy .
\item odnoœnik wraz z informacj¹ w formie GET prosz¹c¹ o lista dostêpnych specjalizacji. 
\end{itemize}

 \textbf{DLA DYREKTOR:}
 \begin {itemize}
\item odnoœniki wraz z informacjami w formie GET prosz¹c¹ o mo¿liwoœæ edycji, usuwania, dodawania do tablic:
\item a) lekarze
\item b) specjalizacje
\item c) recepcja
\item d) spotkania
\item e) pacjenci
\item f) aktualnosci
\end {itemize}


\subsection{Backlog Item 7}\paragraph{Tytu³ zadania.} Wyœwietlanie, edycja, usuwanie. \paragraph{Opis zadania.} Stworzenie strony obs³uguj¹cych edycjê, wyœwietlanie i usuwanie danych z tablic. \paragraph{Priorytet.} Wysoki. \paragraph{Definition of Done.} Stworzenie strony "zarzadzanie", która po otrzymaniu informacji form¹ GET i zweryfikowaniu uprawnieñ z funkcji "session", bêdzie udostêpniaæ formie formularza wraz skryptem je obs³uguj¹cym opcje dla osób z tablicy:\newline

\textbf{LEKARZE:}
\begin {itemize}
\item listê spotkañ  (wyœwietlanie),
\item kartê pacjenta (wyœwietlanie i edycja)
\end {itemize}
\\
\textbf{RECEPCJA:}
\begin{itemize}
\item listê osób zapisanych (wyœwietlanie i edycja),
\item listê lekarzy (wyœwietlanie),
\item listê dostêpnych specjalizacji (wyœwietlanie)
\end {itemize}
\\
\textbf{DYREKTOR:}
\begin {itemize}
\item listê lekarze (wyœwietlanie, edycja i usuwanie),
\item listê specjalizacje (wyœwietlanie, edycja i usuwanie),
\item listê recepcja (wyœwietlanie, edycja i usuwanie),
\item listê spotkania (wyœwietlanie, edycja i usuwanie),
\item listê pacjenci (wyœwietlanie, edycja i usuwanie),
\item listê aktualnosci (wyœwietlanie, edycja i usuwanie)
\end {itemize}

\section{Sprint 1} \subsection{Cel} Stworzenie bazy danych dziêki której mo¿liwe bêdzie przegl¹danie strony tytu³owej i formularza zapisu pacjentów. \subsection{Sprint Planning/Backlog}

\paragraph{Tytu³ zadania.} Stworzenie pocz¹tkowej bazy danych. \begin{itemize} \item Estymata: M. \end{itemize}
\paragraph{Tytu³ zadania.}  Strona tytu³owa oraz formularz logowania pacjenta. \begin{itemize} \item Estymata: L. \end{itemize}
\paragraph{Tytu³ zadania.} Aktualnoœci. \begin{itemize} \item Estymata: S. \end{itemize}



\subsection{Realizacja}


\paragraph{Tytu³ zadania.} Stworzenie pocz¹tkowej bazy danych. \subparagraph{Wykonawca.} £ukasz Mamak \subparagraph{Realizacja.} Zadaniem do wykonania by³o stworzenie niezbêdnej do dalszych kroków bazy danych. Realizacja tego¿ zadania przebieg³a bez wiêkszych komplikacji. W skrypcie zosta³o utworzonych kilka tabel, pocz¹wszy od aktualnoœci, poprzez tabele pacjenci, lekarze, na tabeli spotkania koñcz¹c. W ka¿dej tabeli zdefiniowany zosta³ klucz g³ówny dla wartoœci "niepowtarzalnych" w zale¿noœci od tabeli. Zdefiniowane zosta³y tak¿e klucze obce, które zosta³y wykorzystane do utworzenia relacji miêdzy par¹ tabel. Podsumowuj¹c, zadanie zosta³o zrealizowane w ca³oœci, bez istotnych do odnotowania problemów, nie wychodz¹cych poza ramy b³êdnego wpisania sk³adni, lub te¿ drobnych literówek. 
\newline
\newline
    Kod programu (œrodowisko \texttt{verbatim}): \begin{verbatim}

CREATE TABLE aktualnosci (
id_aktualnosci INT NOT NULL auto_increment,
data TIMESTAMP NOT NULL,
opis VARCHAR(50) NOT NULL,

CONSTRAINT c_pk0 PRIMARY KEY(id_aktualnosci)
) ENGINE = InnoDB; 

CREATE TABLE pacjenci (
id_pacjenta INT NOT NULL auto_increment,
imie VARCHAR(50) NOT NULL,
nazwisko VARCHAR(50) NOT NULL,
karta_pacjenta VARCHAR(255) NOT NULL,
pesel BIGINT NOT NULL,
nr_telefonu BIGINT NOT NULL,
kod VARCHAR(50) NOT NULL,

CONSTRAINT c_pk PRIMARY KEY(id_osoby)
) ENGINE = InnoDB; 

CREATE TABLE lekarze (
id_lekarza INT NOT NULL auto_increment,
login VARCHAR(50) NOT NULL,
haslo VARCHAR(50) NOT NULL,
imie VARCHAR(50) NOT NULL,
nazwisko VARCHAR(50) NOT NULL,
id_specjalizacji INT NOT NULL,
nr_pokoju VARCHAR(50) NOT NULL,

CONSTRAINT c_pk2 PRIMARY KEY(id_lekarza)
) ENGINE = InnoDB; 


CREATE TABLE spotkania (
id_spotkania INT NOT NULL auto_increment,
id_specjalizacji INT NOT NULL,
id_lekarza INT NOT NULL,
id_osoby INT NOT NULL,
data_odbycia VARCHAR(50),
data_zapisu TIMESTAMP NOT NULL,
stan enum('0','1') NOT NULL DEFAULT '0',


) ENGINE = InnoDB; 

\end{verbatim}.

\paragraph{Tytu³ zadania.}  Strona tytu³owa oraz formularz logowania pacjenta. \subparagraph{Wykonawca.} £ukasz Szkaradek \subparagraph{Realizacja.} Celem zadania by³o wykonanie strony internetowej w której zawarte bêd¹ logowanie pacjenta, wyœwietlanie spotkañ danego pacjenta oraz ich dodawanie poprzez formularz. Wykonanie zadania odby³o siê bez wiêkszych trudnoœci, choæ wykonanie niektórych algorytmów takich jak wyœwietlanie wyboru godzin z pominiêciem ju¿ zarezerwowanych oraz przesz³ych godzin czy wyœwietlanie odpowiednich dat dla wybranych dni wymaga³o wiêkszego wysi³ku. Przydatna przy wykonaniu zadania by³a funkcja session, która przechowuje dane a¿ do ich usuniêcia lub wy³¹czenia przegl¹darki. Przy przesy³aniu danych z formularza zosta³a u¿yta forma POST. Zadanie zosta³o wykonane w ca³oœci, a wszystkie jego funkcje dzia³aj¹ prawid³owo.
\newline
\newline
Kod programu (œrodowisko \texttt{PHP}): \begin{verbatim} 
<?php
ob_start();
date_default_timezone_set('Europe/Warsaw');
session_start();
$host="<<ip serwera>>";
$db_user="<<nazwa u¿ytkownika>>";
$db_password="<<has³o u¿ytkowinka>>";
$database="<<nazwa bazy danych>>";
$link= mysqli_connect($host,$db_user,$db_password,$database);
$zat="call zatw()";
$zat_w=mysqli_query($link,$zat);
if (isset($_GET[powrot])) {
session_destroy();
header("Location: index.php");
}
if (isset($_POST[stan])){
$zapytanie="SELECT * FROM pacjenci WHERE pesel='$_POST[pesel]' and kod='$_POST[kod]'";
$wykonaj=mysqli_query($link,$zapytanie);
if(@mysqli_num_rows($wykonaj)){
while($wiersz=mysqli_fetch_assoc($wykonaj)) {
$_SESSION[zalogowany] = "pacjent";
$_SESSION[id_p] = $wiersz['id_pacjenta'];
$_SESSION['baza'] = 'pacjent';
}
} else {
$brak='1';
}
}
?>
<html>
<head>
<title>Przychodnia lekarska</title>
<META http-equiv=Content-Language content=pl>
<META http-equiv=Content-Type content="text/html; charset=windows-1250">
<style>
a {
    color: black;
    text-decoration: none;
}
</style>
</head>
\end{verbatim}.


\paragraph{Tytu³ zadania.} Aktualnoœci. \subparagraph{Wykonawca.} Pawe³ Wilczek \subparagraph{Realizacja.} Zadanie polega³o na utworzeniu aktualnoœci na stronie g³ównej przychodni lekarskiej dziêki wy³uskaniu odpowiednich informacji z tabeli "aktualnoœci" i umieszczeniu ich na stronie g³ównej dziêki skryptowi PHP. 

Tabela aktualnoœci:
\begin{verbatim}
CREATE TABLE aktualnosci (
id_aktualnosci INT NOT NULL auto_increment,
data TIMESTAMP NOT NULL,
opis VARCHAR(50) NOT NULL,

CONSTRAINT c_pk0 PRIMARY KEY(id_aktualnosci)
) ENGINE = InnoDB;
\end{verbatim}
Skrypt PHP:
\begin{verbatim}
echo '<br><br><br>
<table border="1px">
<tr><td style="text-align: center;" colspan="2">Aktualnoœci</td></tr>';
$aktualnosci="SELECT * FROM aktualnosci";
$wykonaj=mysqli_query($link,$aktualnosci);
if(@mysqli_num_rows($wykonaj)){
	while($wiersz=mysqli_fetch_assoc($wykonaj)) {
		echo '<tr><td width="150">'.$wiersz['data'].'</td><td width="950">'.$wiersz['opis'].'</tr></table>';
}
}
}
\end{verbatim}

\subsection{Sprint Review/Demo} Naszym celem by³a realizacja 3 wczeœniej ustalonych i zaplanowanych zadañ. Dotyczy³y one stworzenia bazy danych, strony tytu³owej oraz formularza logowania pacjenta a tak¿e aktualnoœci. Podczas realizacji wczeœniej przydzielonych zadañ, ¿aden z cz³onków zespo³u nie napotka³ na istotne, konieczne do odnotowania problemy. Wszystkie z przewidzianych zadañ zosta³y wykonane terminowo, co za tym idzie przyrost  zosta³ osi¹gniêty. Z racji tematyki naszego projektu, przyrost, postêp bedzie dostêpny na stronie internetowej przychodni, w adresie poni¿ej.\newline
\newline
\textit{Demonstracja przyrostu produktu:}\newline
\newline
\textbf{Link do strony}: http://luki9696.000webhostapp.com/projekt/index.php
 
   

\section{Sprint 2}
\label{Sprint22}
\subsection{Cel}\label{Sprint2cel} Sprint ma na celu wykonanie dwóch zadañ. Pierwszym zadaniem bêdzie uaktualnienie bazy danych o nowe tabele, wymagane do dalszego rozwoju strony, jak i stworzenie widoków, które u³atwiaæ bêd¹ wyœwietlanie danych z tabeli. Natomiast drugim celem sprintu jest stworzenie podstrony, na której zawarty bêdzie formularz przez który bêd¹ mogli rejestrowaæ siê pacjenci, strona musi zawieraæ równie¿ kod, który bêdzie umo¿liwia³ wykonanie operacji wpisania pacjenta do bazy.

\subsection{Sprint Planning/Backlog}
\label{Sprint2SPB}
\paragraph{Tytu³ zadania.} Formularz zapisu dla pacjentów. \begin{itemize} \item Estymata: M. \end{itemize}

\paragraph{Tytu³ zadania.} Aktualizacja bazy danych. \begin{itemize} \item Estymata: XL. \end{itemize}


\subsection{Realizacja}
\label{Realizacja2}
\paragraph{Tytu³ zadania.}  Aktualizacja bazy danych. \subparagraph{Wykonawca.} £ukasz Szkaradek. \subparagraph{Realizacja.} Zadanie zosta³o wykonane bez problemów zosta³y utworzone 3 nowe tabele oraz 2 widoki u³atwiaj¹ce wyœwietlanie danych z tabeli. 
\newline
\newline
Kod programu (œrodowisko \texttt{verbatim}): \begin{verbatim} 

CREATE TABLE specjalizacje (
id_specjalizacji INT NOT NULL auto_increment,
nazwa_specjalizacji VARCHAR(50) NOT NULL,

CONSTRAINT c_pk1 PRIMARY KEY(id_specjalizacji)

) ENGINE = InnoDB; 

CREATE TABLE recepcja (
id_recepcjonisty INT NOT NULL auto_increment,
imie VARCHAR(50) NOT NULL,
nazwisko VARCHAR(50) NOT NULL,
login VARCHAR(50) NOT NULL,
haslo VARCHAR(50) NOT NULL,

CONSTRAINT c_pk2 PRIMARY KEY(id_recepcjonisty)

) ENGINE = InnoDB; 

CREATE TABLE dyrektor (
id_dyrektora INT NOT NULL auto_increment,
imie VARCHAR(50) NOT NULL,
nazwisko VARCHAR(50) NOT NULL,
login VARCHAR(50) NOT NULL,
haslo VARCHAR(50) NOT NULL,

CONSTRAINT c_pk3 PRIMARY KEY(id_dyrektora)

) ENGINE = InnoDB; 

CREATE OR REPLACE VIEW widok_lekarze(imie, nazwisko, specjalizacja, nr_pokoju) AS SELECT imie, nazwisko, specjalizacje.nazwa_specjalizacji, nr_pokoju FROM lekarze, specjalizacje WHERE lekarze.id_specjalizacji=specjalizacje.id_specjalizacji;
CREATE OR REPLACE VIEW widok_lista(id_spotkania, id_osoby, id_lekarza, pesel, imie_osoby, nazwisko_osoby, specjalizacja, imie_lekarza, nazwisko_lekarza, nr_pokoju, data_odbycia, data_zapisu, stan) AS SELECT id_spotkania, pacjenci.id_pacjenta, spotkania.id_lekarza, pacjenci.pesel, pacjenci.imie, pacjenci.nazwisko, specjalizacje.nazwa_specjalizacji, lekarze.imie, lekarze.nazwisko, lekarze.nr_pokoju, data_odbycia, data_zapisu, stan FROM spotkania, lekarze, specjalizacje, pacjenci where spotkania.id_lekarza=lekarze.id_lekarza and spotkania.id_specjalizacji=specjalizacje.id_specjalizacji and spotkania.id_osoby=pacjenci.id_pacjenta;
 \end{verbatim}>>.

\paragraph{Tytu³ zadania.} Formularz zapisu dla pacjentów.  \subparagraph{Wykonawca.} £ukasz Mamak, Pawe³ Wilczek. \subparagraph{Realizacja.}
Zadanie polega³o na utworzeniu formularza zapisu dla pacjentów  przychodni lekarskiej dziêki któremu przysz³y pacjent tworzy swoje konto które nastêpnie pozwala na zapisywanie siê na ustalone daty i godziny do konkretnych specjalistów.

 \begin{verbatim}
<html>
<head>
<title>£ukasz Szkaradek, £ukasz Mamak i Pawe³ Wilczek </title>

<META http-equiv=Content-Language content=pl>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<style>
a {
    color: black;
    text-decoration: none;
}
</style>
</head>

<body>
<center>
<a href="index.php">Powrót</a> | <a href="recepcja.php">Zaloguj siê</a>
<body style="background-size: 100% 200%;" background="tlo.jpg" bgproperties="fixed"> <br> <br>
<img style="margin:-7px;width: 101%; text-align:center;" src="logo.png" alt="Logo" />
<form action="formularz.php" method="POST"><table border="2">
<tr><td align="center" colspan="2">Formularz</td><tr>
<tr><td>Imiê:</td><td><input type="text" name="imie_osoby"></td><tr>
<td>Nazwisko:</td><td><input type="text" name="nazwisko_osoby"></td><tr>
<td>Pesel:</td><td><input type="text" name="pesel"></td><tr>
<td>Numer telefonu:</td><td><input type="text" name="tel"></td><tr>
<td align="center" colspan="2"><input type="submit" value="Wyœlij"> </form></td></table>
</body>
<br>
<table border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td style="background: rgba(42,42,42,0.4);" align="center"><font face="verdana" size="1" color="white">
      &nbsp&nbspCopyright &copy; <b>£ukasz Szkaradek, £ukasz Mamak i Pawe³ Wilczek&nbsp&nbsp</b></td>
  </tr>
</table>
</center>
</html> 
\end{verbatim}


\subsection{Sprint Review/Demo}\label{Sprint2demo}
Naszym celem by³a realizacja wczeœniej ustalonych i zaplanowanych zadañ. Dotyczy³y one stworzenia formularza zapisu dla pacjentów oraz aktualizacja bazy danych która polega³a na utworzeniu trzech nowych tabel oraz dwóch widoków u³atwiaj¹cych wyœwietlanie danych z tabeli.   Podczas realizacji wczeœniej przydzielonych zadañ, ¿aden z cz³onków zespo³u nie napotka³ na istotne, konieczne do odnotowania problemy. Wszystkie z przewidzianych zadañ zosta³y wykonane terminowo, co za tym idzie przyrost  zosta³ osi¹gniêty.  Z racji tematyki naszego projektu, przyrost, postêp bêdzie dostêpny na stronie internetowej przychodni, w adresie poni¿ej.\newline
\newline
\textit{Demonstracja przyrostu produktu:}\newline
\newline
\textbf{Link do strony}: http://luki9696.000webhostapp.com/projekt/index.php


\section{Sprint 3}\label{Sprint33} \subsection{Cel}\label{Sprint33cel} Sprint 3 ma na celu stworzenie dwóch podstron. Recepcji, która bêdzie umo¿liwiaæ logowanie wraz z wyœwietlaniem opcji dla poszczególnych u¿ytkowników: dyrektora, recepcjonisty i lekarza. Opcje te przekierowywaæ bêd¹ do podstrony zarz¹dzanie. Podstrona zarz¹dzanie wyœwietlaæ bêdzie tabele i umo¿liwiaæ ich edycje i dodawanie, tabele wybierane s¹ poprzez metodê GET ze strony recepcji. \subsection{Sprint Planning/Backlog}\label{Sprint33SPB}

\paragraph{Tytu³ zadania.} Strona logowania pracowników. \begin{itemize} \item Estymata: XL. \end{itemize}
\paragraph{Tytu³ zadania.} Wyœwietlanie, edycja, usuwanie. \begin{itemize} \item Estymata: XXL. \end{itemize}


\subsection{Realizacja}\label{Sprint33realizacja}

\paragraph{Tytu³ zadania.} Strona logowania pracowników . \subparagraph{Wykonawca.} £ukasz Mamak. \subparagraph{Realizacja.} Zadanie polega³o na stworzeniu strony logowania dla pracowników. Realizacja przebieg³a planowo, przyrost zosta³ osi¹gniêty.  Kod programu (œrodowisko \texttt{verbatim}): \begin{verbatim} ?>
<html>
<head>
<title>Przychodnia lekarska</title>
<META http-equiv=Content-Language content=pl>
<META http-equiv=Content-Type content="text/html; charset=windows-1250">
<style>
a {
    color: black;
    text-decoration: none;
}
</style>
</head>
<body style="background-size: 100% 200%;" background="tlo.jpg" bgproperties="fixed">
<div align="center">
<?php
if($_SESSION['zalogowany']=="ok") {
echo '<a href="recepcja.php?stan=wyloguj">Wyloguj</a> | ';
if (isset($_GET['haslo'])) {
echo '<a href="recepcja.php">Powrót</a> |';
} else {
echo '<a href="recepcja.php?haslo">Zmieñ has³o</a> |';
}
}
?> <a href="index.php">Strona g³ówna</a><br><br>
<img style="margin:-7px;width: 101%; text-align:center;" src="logo.png" alt="Logo" />
 \end{verbatim}>>.

\paragraph{Tytu³ zadania.}Wyœwietlanie, edycja, usuwanie.  \subparagraph{Wykonawca.} £ukasz Szkaradek, Pawe³ Wilczek. \subparagraph{Realizacja.}Realizacja zadania przebieg³a pomyœlnie, zadanie wymaga³o wnikliwej analizy i organizacji elementów. W efekcie powsta³a dzia³aj¹ca strona umo¿liwiaj¹ca edycje, dodawanie i wyœwietlanie tablic w bazie danych. Wykonanie strony oby³o siê bez wiêkszych problemów. 
\begin{verbatim} 
if($_SESSION['zalogowany']=="ok")
{
switch($_GET['l'])
	{
	    
	case "aktualnosci":
	if ($_SESSION['baza'] == 'dyrektor' or $_SESSION['baza'] == 'recepcja') {
	if(isset($_GET['id_aktualnosci_u'])) {
	$zapytanie_u="DELETE from aktualnosci WHERE id_aktualnosci='".$_GET['id_aktualnosci_u']."'";
	$wykonaj_u = mysqli_query($link, $zapytanie_u);
	header('Location: wyswietl.php?l='.$_GET['l']);
	}
    	if(isset($_POST['id_aktualnosci_e'])) { 
    	$zapytanie_e="UPDATE aktualnosci SET data='".$_POST['data']."', opis='".$_POST['opis']."' WHERE id_aktualnosci='".$_POST['id_aktualnosci_e']."'";
	$wykonaj_e = mysqli_query($link, $zapytanie_e);
	header('Location: wyswietl.php?l='.$_GET['l']);
    	}
    	if(isset($_POST['data_d'])) { 
	if ($_POST['data_d']=="") {
	$zapytanie_d="INSERT into aktualnosci (opis) values('".$_POST['opis']."')";
	} else {
	$zapytanie_d="INSERT into aktualnosci (data, opis) values('".$_POST['data_d']."', '".$_POST['opis']."')";
	}
    	$wykonaj_d=mysqli_query($link,$zapytanie_d);
   	header('Location: wyswietl.php?l='.$_GET['l']);
 }
    
    
	echo '<button onclick="dodaj()">Dodaj</button>&nbsp;<button onclick="edycja()">Edytuj</button><br>';
	echo '<br> Lista aktulanoœci <br>';
	echo '<table border="1" cellspacing="0" cellpadding="0">';
	echo "<td>ID aktualnoœci</td><td>Data</td><td>Opis</td><td></td><td></td>";
	$zapytanie = "select * from aktualnosci";
	$wykonaj = mysqli_query($link, $zapytanie);
	while($wiersz=mysqli_fetch_assoc($wykonaj)) {
	echo " <tr>
	<td>".$wiersz['id_aktualnosci']."</td>
	<td>".$wiersz['data']."</td>
	<td>".$wiersz['opis']."</td>";
	echo '<td><button onclick="dane(\'' . $wiersz['id_aktualnosci'] . '\',\'' . $wiersz['data'] . '\',\'' . $wiersz['opis'] . '\')">Edytuj</button></td>';
	echo '<td><a href="wyswietl.php?l=aktualnosci&id_aktualnosci_u=' . $wiersz['id_aktualnosci'] . '"/><button>Usuñ</button></td>';
	}
	echo '</table><br><div style="height:150px;">';
	
	echo '<table id="edycja" style="display: none" border="1" cellspacing="0" cellpadding="0">';
	echo '<form action="wyswietl.php?l=aktualnosci" method="post">';
	echo '<tr><td>ID aktualnoœci</td><td><input type="text" id="a" name="id_aktualnosci_e"></tr>
	<tr><td>Data</td><td><input type="text" id="b" name="data"><td>
	<tr><td>Opis</td><td><input type="text" id="c" name="opis"><td>';
	echo '</table><input id="p_edycja" style="display: none" type="submit" value="Edytuj">';
	echo '</form><br><br>';
	echo '<table style="display: none" id="dodaj" border="1" cellspacing="0" cellpadding="0">';
	echo '<form action="wyswietl.php?l=aktualnosci" method="post">';
	echo '<tr><td>Data</td><td><input type="text" name="data_d"><td>
	<tr><td>Opis</td><td><input type="text" name="opis"><td>';
	echo '</table><input style="display: none" id="p_dodaj" type="submit" value="Dodaj">';
	echo '</form></div>';
	}
	break;
}
}
     \end{verbatim}


\subsection{Sprint Review/Demo}\label{Sprint33demo} Sprint zosta³ wykonany w pe³ni, nie zosta³y odnotowane ¿adne b³êdy lub komplikacje. Ca³oœæ w pe³ni wspó³gra z zadaniami wykonanymi w poprzednich sprintach. Zakoñczenie tego sprintu jest jednoczeœnie zakoñczeniem prac nad ca³ym projektem, gdy¿ otrzymaliœmy w pe³ni sprawn¹ i funkcjonaln¹ stronê internetow¹.
\newline
\textit{Demonstracja przyrostu produktu:}\newline
\newline
\textbf{Link do strony}: http://luki9696.000webhostapp.com/projekt/index.php


\section{Sprint 4}
\label{Sprint22}
\subsection{Cel} Motywem przewodnim sprintu jest przede wszystkim naniesienie niezbêdnych poprawek a tak¿e udoskonalenie wdro¿onych wczeœniej rozwi¹zañ, które to sprawi¹, ¿e zarówno wygl¹d jak i funkcjonalnoœæ zostan¹ poprawione i poszerzone o niezbêdne, a brakuj¹ce wczeœniej opcje.
\label{Sprint4cel} 

\subsection{Sprint Planning/Backlog}
\label{Sprint4SPB}
\paragraph{Tytu³ zadania.} Opcja zmiany has³a u¿ytkowników recepcji. \begin{itemize} \item Estymata: L. \end{itemize}

\paragraph{Tytu³ zadania.} Automatyczne wpisywanie danych logowania pacjenta po IP z opcj¹ wyboru. \begin{itemize} \item Estymata: L. \end{itemize}

\paragraph{Tytu³ zadania.} Poprawa formularza rejestracji pacjenta.  \begin{itemize} \item Estymata: S. \end{itemize}



\subsection{Realizacja}
\label{Realizacja4}
\paragraph{Tytu³ zadania.}  Opcja zmiany has³a u¿ytkowników recepcji. \subparagraph{Wykonawca.} £ukasz Szkaradek, £ukasz Mamak \subparagraph{Realizacja.}  
\newline
\newline
Kod programu (œrodowisko \texttt{verbatim}): \begin{verbatim} \end{verbatim}

\paragraph{Tytu³ zadania.}  Automatyczne wpisywanie danych logowania pacjenta po IP z opcj¹ wyboru. \subparagraph{Wykonawca.} Pawe³ Wilczek, £ukasz Mamak \subparagraph{Realizacja.}  
\newline
\newline
Kod programu (œrodowisko \texttt{verbatim}): \begin{verbatim} \end{verbatim}


\paragraph{Tytu³ zadania.}  Poprawa formularza rejestracji pacjenta.  \subparagraph{Wykonawca.} £ukasz Szkaradek\subparagraph{Realizacja.}  
\newline
\newline
Kod programu (œrodowisko \texttt{verbatim}): \begin{verbatim} \end{verbatim}






\subsection{Sprint Review/Demo}\label{Sprint4demo}
\newline
\newline
\textit{Demonstracja przyrostu produktu:}\newline
\newline
\textbf{Link do strony}: http://luki9696.000webhostapp.com/projekt/index.php


\begin{thebibliography}{9}

\bibitem{Cov} S. R. Covey, {\em 7 nawyków skutecznego dzia³ania}, Rebis, Poznañ, 2007.

\bibitem{Oet} Tobias Oetiker i wsp., Nie za krótkie wprowadzenie do systemu \LaTeX \ $2_\varepsilon$, \url{ftp://ftp.gust.org.pl/TeX/info/lshort/polish/lshort2e.pdf}

\bibitem{SchSut} K. Schwaber, J. Sutherland, {\em Scrum Guide}, \url{http://www.scrumguides.org/}, 2016.

\bibitem{apr} \url{https://agilepainrelief.com/notesfromatooluser/tag/scrum-by-example}

\bibitem{us} \url{https://www.tutorialspoint.com/scrum/scrum_user_stories.htm}

\end{thebibliography}

\end{document}

% ----------------------------------------------------------------